# Project Escape

내일배움캠프 Unreal 3/4기, C++로 구현하는 언리얼 엔진 5 기반 슈터 게임 프로젝트 

* TEAM 17 FIVE GUYS
  * 김선호 (팀장)
  * 문기홍
  * 이정재
  * 정찬혁
  * 최대근

Youtube 플레이 영상

[![ALTTEXT](https://img.youtube.com/vi/Q2ABSiVUung/0.jpg)](https://www.youtube.com/watch?v=Q2ABSiVUung)


## 개발 환경

- 운영체제: Windows
- 엔진: Unreal Engine 5.5.4 



## 플레이 방법

### Editor 상에서 실행하는 방법

1. `Content/ProjectEscape/Maps` 폴더로 이동한다.
2. `GameStartLevel` 레벨을 연다.
3. Play 버튼을 누른다.


### 조작법

* 이동
  * W: 앞으로 이동
  * S: 뒤로 이동
  * A: 왼쪽으로 이동
  * D: 오른쪽으로 이동
* 카메라
  * 마우스 이동: 시야 전환
* 움직임
  * Left Shift: 달리기
  * C or Left Ctrl: 앉기/일어서기 전환
* 상호작용
  * E: 아이템 줍기, 버튼 누르기
* 전투
  * 마우스 Left Click: 현재 아이템 사용 (사격, 투척 등)
  * R: 재장전
  * 1-5: 무기 또는 아이템 전환
    * 1: 주무기
    * 2: 보조무기
    * 3: 근접무기
    * 4: 회복아이템
    * 5: 투척무기
  * G: 들고 있는 아이템 버리기
* 메뉴
  * TAB: 인벤토리 UI 열기/닫기
  * ESC: 게임 일시 정지 


### 조작법 심화

* 무기 관련
  * 무기를 줍고난 후, R키를 눌러 재장전을 해야 합니다.
  * 총알이 바닥난 경우, **수동**으로 재장전을 해야 합니다.
* 회복 아이템 관련
  * 회복 아이템을 주운 뒤, 퀵슬롯에 등록해야 합니다.
  * 퀵슬롯은 **수동**으로 직접 등록해야 합니다.
  * 인벤토리를 열고, 회복 아이템을 드래그해서 퀵 슬롯으로 옮기거나, 회복 아이템을 마우스 오른쪽 버튼으로 클릭하면 됩니다.
  * 인벤토리를 닫고, 4번 키를 눌러 회복 아이템을 손에 들어야 합니다.
  * 마우스 왼쪽 키를 누르면, 회복 아이템을 사용합니다.
* 수류탄 관련
  * 회복 아이템과 마찬가지로, 퀵슬롯에 등록해야 합니다.
  * 퀵슬롯에 등록한 다음, 5번 키를 눌러 수류탄을 손에 들어야 합니다.
  * 마우스 왼쪽 키를 눌렀다가, 떼면 수류탄을 던집니다.


### 플레이 심화

게임이 시작되면, 먼저 무기와 총알을 주워야 합니다. 모든 아이템은 가까이 가서 E(상호작용 키)를 눌러 주울 수 있습니다. 무기는 장전되어 있지 않으므로, 먼저 장전해야 합니다.

<img width="699" height="324" alt="image" src="https://github.com/user-attachments/assets/5526c498-9e91-494f-b71d-3e5ac38c3467" />

  
문 밖으로 나가면, 화면 오른쪽에 현재 목표가 나타납니다. 

<img width="680" height="251" alt="image" src="https://github.com/user-attachments/assets/0bdaafb2-0e90-4ac1-bd67-399eeb29e239" />


문 개폐 장치는 계단을 타고 올라가면 나오는 장소에 있으니 참고 바랍니다.

<img width="789" height="354" alt="image" src="https://github.com/user-attachments/assets/556a636d-dccd-481e-acb4-c8aa4ab5829a" />




## 프로젝트 구조

```
ProjectEscape/
 ├─ Source/
 │   └─ ProjectEscape/            # 게임 모듈
 │       ├─ Private/                # .cpp 파일 모음 (Public과 같은 구성입니다)
 │       └─ Public/                 # .h 파일 모음
 │           ├─ Character/          # 캐릭터 관련 코드
 │           │   ├─ Enemies/        # 적 관련 코드
 │           │   └─ Hero/           # 플레이어 캐릭터 관련 코드
 │           ├─ Combat/             # 전투 시스템 관련 코드
 │           ├─ Core/               # AssetManager, GameplayTags, GameModeBase, GameStateBase, LocChannels 
 │           ├─ Items/              # 아이템 관련 코드
 │           │   └─ Weapons/        # 무기 관련 코드
 │           ├─ Player/             # PlayerController, PlayerState
 │           ├─ Systems/            # 레벨을 구성하는 시스템 관련 코드
 │           │   ├─ Spawner/        # Spawner 관련 코드
 │           │   └─ Levels/         # 레벨 객체 (문, 트리거, 개폐장치) 관련 코ㄷ
 │           └─ UI/                 # Widget 관련 코드
 │               ├─ Boss/           # Boss UI 코드
 │               └─ Inventory/      # 인벤토리 UI 코드
 │   
 ├─ Content/                      # 에셋, 맵, 블루프린트
 │   ├─ Resources/                  # 리소스 모음
 │   └─ ProjectEscape/              # 프로젝트 폴더
 │       ├─ Characters/             # 캐릭터(적, 플레이어캐릭터) 블루프린트 모음
 │       ├─ Core/                   # GameMode, GameState 블루프린트 모음
 │       ├─ Input/                  # InputAction, InputMappingContext 모음
 │       ├─ Items/                  # 아이템 블루프린트 모음
 │       │   ├─ Ammo/               # 총알 아이템 블루프린트
 │       │   ├─ Usable/             # 사용 아이템(회복 아이템, 수류탄) 블루프린트
 │       │   └─ Weapon/             # 무기 블루프린트
 │       ├─ Maps/                   # 레벨
 │       ├─ Others/                 # 기타 블루프린트
 │       ├─ Player/                 # PlayerController, PlayerState 블루프린트
 │       ├─ PostProcess/            # 물체 외각선을 위한 PostProcess material
 │       ├─ Test/                   # 테스트 관련
 │       └─ UI/                     # Widget 블루프린트
 ├─ Config/                  
 └─ ProjectName.uproject
```


## 구현 상세

### 필수 기능

- 캐릭터 이동 및 상태 변화
    - [x] 키보드와 마우스로 캐릭터 이동/시점 조작
    - 기본 동작 구현
        - [x] 걷기: WASD 키로 이동
        - [x] 달리기: Shift 키 조합으로 이동 속도 증가
        - [x] 점프: Space 키로 수직 점프
        - [x] 앉기: Ctrl/C 키로 전환
    - [x] 각 동작에 맞는 애니메이션 재생
    - [x] 동작 상태에 따른 이동 속도와 캐릭터 충돌 크기 조정

- 무기 발사 및 데미지 처리
    - [x] 최소 1종 이상의 무기 구현
    - 무기별 기본 속성 구현
        - [x] 발사 방식 (히트스캔/물리탄환 등)
        - [x] 데미지량, 발사 속도, 장탄수, 재장전 시간
    - 재장전 시스템
        - [x] 탄창 단위 재장전
        - [x] 재장전 중 발사 제한

- 적 AI
    - 기본적인 적 캐릭터 구현
        - [x] 체력/방어력 시스템: 체력 시스템만 구현되어 있습니다.
        - [x] 피격/사망 처리
    - AI 행동 패턴 구현
        - [x] 플레이어 탐지
        - [x] 플레이어 추적, 공격 범위 내 사격
    - NavMesh 연동
        - [x] AI 이동 경로 탐색
        - [x] 장애물 회피

- 게임 모드
    - [x] 게임 시작/종료 조건 설정
    - 점수 시스템 구현
        - [x] 적 처치 시 점수 획득
        - [x] 특수 보너스 점수 (헤드샷, 특정 조건 등): 클리어 시간에 따른 추가 보너스가 구현되어 있습니다.
    - 게임 오버/클리어 조건
        - [x] 플레이어 사망, 제한 시간 초과 등: 시간 제한은 따로 없습니다.
        - [ ] 미션 실패: 탈출이 주 목적이기 때문에, 미션 실패는 따로 없습니다.

- UI 시스템
    - 전투 관련 HUD
        - [x] 플레이어 체력바
        - [x] 현재 무기 및 탄약 정보
        - [x] 조준점/크로스헤어
    - 게임 상태 표시
        - [x] 현재 점수/킬 카운트: 게임 진행중에는 점수만 표시되고, 킬 카운트는 게임이 끝나고 나타납니다.
        - [x] 미션 목표 및 진행상황
        - [x] 피해/킬 로그: 피해 로그 대신, 피해를 입으면 관련 애니메이션이 재생됩니다.
    - 전투 피드백
        - [x] 히트마커
        - [x] 데미지량 표시
        - [x] 적 처치 시 킬 확정 표시: 히트마커와 유사한 킬마커가 나타납니다.

### 도전 기능

- 보스전 시스템
    - 보스 캐릭터
        - [x] 높은 체력과 공격력
        - [x] 다양한 공격 패턴 (광역 공격, 슬래시, 투사체 등): 원거리, 근거리 공격, 그리고 특수 공격을 가지고 있습니다.
        - [x] 체력에 따른 페이즈 전환: 체력이 절반 이하로 내려가면 페이즈가 전환됩니다.
    - 보스전 전용 UI
        - [x] 보스 체력바, 특수 공격 경고: 특수 공격 경고 UI는 없습니다. 특수 공격의 경우, 보스의 모습과 음향 효과를 통해 확인 가능합니다.
        - [x] 페이즈 전환 알림
    - 보상 시스템
        - [ ] 보스 처치 시 특별 무기 및 아이템 제공: 보스가 마지막 적이기 때문에, 아이템을 드롭하지 않습니다. 대신, 게임 중간에 있는 엘리트 몬스터가 아이템을 드롭합니다.

- 고급 무기 시스템
    - 무기 커스터마이징
        - [ ] 부착물 슬롯 (조준경, 소음기, 확장 탄창 등)
        - [ ] 부착물 별 스탯 변경 (정확도, 반동, 탄창용량, 사운드 등)
    - 특수 무기
        - [x] 샷건, 저격총, 로켓런쳐 등 다른 공격 매커니즘의 무기
        - [x] 희귀 무기 획득 조건 (보스전 클리어, 맵 내 히든 스팟 등): 게임 중간에 있는 엘리트 몬스터가 아이템을 드롭합니다.

- 인벤토리 시스템
    - 아이템 관리
        - [x] 무기 슬롯, 탄약 보관
        - [x] 체력 회복 아이템, 기타 유틸 (수류탄 등)
    - 인벤토리 UI
        - [x] 격자/슬롯 형식
        - [x] 드래그 앤 드롭 (아이템 이동, 폐기 등)
    - 퀵슬롯
        - [x] 단축키 (숫자키 등)로 아이템 지원
        - [x] HUD에 표시



## 업무 분배

* 김선호: 팀장, 무기 및 아이템, 장비(equip) 시스템, 상호작용 시스템, 전투 시스템, 투사체 시스템 개발
* 문기홍: 레벨 디자인 및 레벨 요소 (자동문, 문 개폐장치) 개발
* 이정재: 메뉴 Widget 및 전투 HUD, 킬 마커 및 히트 마커, 데미지 표시 UI 개발
* 정찬혁: 적 AI, 적 캐릭터 개발
* 최대근: 코드 관리 및 코드 통합, git/github 관리, GameMode, PlayerState, 플레이어 캐릭터 개발

